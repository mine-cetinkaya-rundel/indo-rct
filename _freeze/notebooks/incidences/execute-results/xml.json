{
  "hash": "10433d9c2a5525b74cd5574faef904b9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Incidence of the Primary and Secondary End Points and Adverse Events\n---\n\n\n\n\n\n\n\n\n\n\nBar plots.\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#| label: load-pkgs\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| label: load-pkgs\nlibrary(medicaldata)\nlibrary(patchwork)\n```\n:::\n\n::: {#cell-fig-incidences-adverse-events .cell}\n\n```{.r .cell-code .hidden}\n#| label: fig-incidences-adverse-events\n#| fig-cap: Incidence of the Primary and Secondary End Points and Adverse Events\n#| fig-width: 4\n#| fig-asp: 0.681\n\n# A - moderate to severe missing\nplot_a <- indo_rct |> \n  count(rx, outcome) |>\n  group_by(rx) |>\n  mutate(p = n / sum(n)) |>\n  filter(outcome == \"1_yes\") |>\n  ungroup() |>\n  mutate(\n    rx = case_match(\n      rx, \n      \"0_placebo\" ~ \"Placebo\",\n      \"1_indomethacin\" ~ \"Indomethacin\"\n    ),\n    rx = fct_relevel(rx, \"Placebo\", \"Indomethacin\"),\n    p = p*100\n  ) |>\n  ggplot(aes(x = rx, y = p, fill = rx)) +\n  geom_col(color = \"black\") +\n  scale_fill_manual(\n    values = c(\n      \"Placebo\" = \"azure2\", \n      \"Indomethacin\" =  \"deepskyblue4\"\n    )\n  ) + \n  theme_classic() +\n  theme(\n    legend.position = \"top\",\n    axis.text.x = element_blank(),\n    axis.ticks.x = element_blank()\n  ) +\n  ylim(0, 20) +\n  labs(\n    x = \"All Post-ERCP\\nPancreatitis\",\n    y = \"Patients (%)\",\n    fill = NULL\n  )\n\n# renal failure missing\nplot_b <- indo_rct |>\n  filter(bleed == 1) |>\n  mutate(\n    rx = case_match(\n      rx, \n      \"0_placebo\" ~ \"Placebo\",\n      \"1_indomethacin\" ~ \"Indomethacin\"\n      ),\n    rx = fct_relevel(rx, \"Placebo\", \"Indomethacin\")\n  ) |>\n  count(rx, bleed) |>\n  ggplot(aes(x = rx, y = n, fill = rx)) +\n  geom_col(color = \"black\") +\n  scale_fill_manual(\n    values = c(\n      \"Placebo\" = \"azure2\", \n      \"Indomethacin\" =  \"deepskyblue4\"\n    )\n  ) + \n  theme_classic() +\n  theme(\n    legend.position = \"top\",\n    axis.text.x = element_blank(),\n    axis.ticks.x = element_blank()\n  ) +\n  ylim(0, 8) +\n  labs(\n    x = \"Gastrointestinal\\nBleeding\",\n    y = \"No. of Adverse Events\",\n    fill = NULL\n  )\n\nplot_a + plot_b\n```\n\n::: {.cell-output-display}\n![Incidence of the Primary and Secondary End Points and Adverse Events](incidences_files/figure-jats/fig-incidences-adverse-events-1.png){#fig-incidences-adverse-events}\n:::\n:::\n",
    "supporting": [
      "incidences_files/figure-jats"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}